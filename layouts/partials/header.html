<!-- Navigation header -->
<nav id="nav">
  <!-- Site title -->
  <a class="nav-title" href="{{ .Site.BaseURL | relLangURL }}">
    {{ .Site.Title }}
  </a>

  <!-- Menu button multiligual -->
  {{ if or .Site.Menus.main .Site.IsMultiLingual }}
    <input type="checkbox" id="menu-toggle" />
    <label class="menu-button float-right" for="menu-toggle">
      <i class="fa fa-bars fa-fw" aria-hidden="true"></i>
    </label>

    <!-- Menu -->
    <ul class="nav-list">
      {{ with .Site.Menus.main }}
        {{ range sort . }}
          <li class="nav-item">
            <a
              class="nav-link"
              href="{{ index (apply (slice .URL) (.Params.urlFunc | default "relLangURL") ".") 0 }}"
              >{{ .Name }}</a
            >
          </li>
        {{ end }}
      {{ end }}
      {{ if .Site.IsMultiLingual }}
        {{ $node := . }}
        {{ .Scratch.Set "separator" true }}
        {{ range (default .Site.Home.AllTranslations .Translations) }}
          {{ if ne $.Site.Language .Language }}
            {{ if $node.Scratch.Get "separator" }}
              <li class="nav-item menu-separator">
                <span>|</span>
              </li>
              {{ $node.Scratch.Set "separator" false }}
            {{ end }}
            <li class="nav-item">
              <a href="{{ .RelPermalink }}"
                >{{ .Language.LanguageName | emojify }}</a
              >
            </li>
          {{ end }}
        {{ end }}
      {{ end }}
    </ul>
  {{ end }}
</nav>
